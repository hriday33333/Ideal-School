var u=document.getElementById("theme-toggle-dark-icon"),h=document.getElementById("theme-toggle-light-icon"),i=document.getElementById("theme-toggle-dark-icon-2"),f=document.getElementById("theme-toggle-light-icon-2"),I=document.getElementById("theme-toggle"),m=document.getElementById("theme-toggle-2");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(h.classList.remove("hidden"),i&&f.classList.remove("hidden")):(u.classList.remove("hidden"),i&&i.classList.remove("hidden"));m&&m.addEventListener("click",function(){i.classList.toggle("hidden"),f.classList.toggle("hidden"),k()});I.addEventListener("click",function(){u.classList.toggle("hidden"),h.classList.toggle("hidden"),k()});function k(){localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"),a="dark"):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"),a="light"):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")),v(a)}let a="light";localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),a="dark"):document.documentElement.classList.remove("dark");v(a);function v(t){document.querySelectorAll(".thumb-img");var e=document.querySelectorAll(".thumb-iframe");t=="dark"?e.forEach(function(o){if(o.dataset.hasDark!=0){console.log(o.dataset.hasDark);var n=o.src,l=n.includes("?")?"&":"?",r=n+l+"dark_mode=1";o.src=r}}):t=="light"&&e.forEach(function(o){var n=o.src,l=n.replace(/[\?&]dark_mode=1/,"");o.src=l})}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".navbar-burger"),e=document.querySelectorAll(".navbar-menu");if(t.length&&e.length)for(var o=0;o<t.length;o++)t[o].addEventListener("click",function(){for(var r=0;r<e.length;r++)e[r].classList.toggle("hidden")});const n=document.querySelectorAll(".navbar-close"),l=document.querySelectorAll(".navbar-backdrop");if(n.length)for(var o=0;o<n.length;o++)n[o].addEventListener("click",function(){for(var c=0;c<e.length;c++)e[c].classList.toggle("hidden")});if(l.length)for(var o=0;o<l.length;o++)l[o].addEventListener("click",function(){for(var c=0;c<e.length;c++)e[c].classList.toggle("hidden")})});var s=document.getElementById("to-top-button"),g=window.pageYOffset;window.onscroll=function(){var t=window.pageYOffset;if(t>300){var e=window.location.href,o=/\/u\//;if(o.test(e))return;g>t?document.getElementById("main_navbar").style.top="0":document.getElementById("main_navbar").style.top="-70px"}g=t,s&&(document.body.scrollTop>500||document.documentElement.scrollTop>500?s.classList.remove("hidden"):s.classList.add("hidden"),window.goToTop=function(){window.scrollTo({top:0,behavior:"smooth"})})};if(typeof analyticPayload<"u"){const t=document.querySelector('meta[name="csrf-token"]').getAttribute("content");fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t},body:JSON.stringify({analytic_payload:analyticPayload})}).catch(function(e){console.log(e)})}const y={polling_delay_in_ms:3e3,intersection_threshold:.5},p=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),b=Array.from(document.querySelectorAll("[data-clickable]"));var S=Array(),d=Array();const T=(t,e)=>{t.forEach(o=>{o.isIntersecting&&(S.push(o.target),e.unobserve(o.target))})},w=new IntersectionObserver(T,{root:null,threshold:y.intersection_threshold});E(b);function E(t){t.forEach(e=>{w.observe(e)}),t.forEach(e=>{e.addEventListener("click",A)})}function A(t){if(t.button!==0||t.ctrlKey||t.metaKey)return;t.preventDefault();let e=null;t.target.tagName==="A"?e=t.target:t.target.parentNode.tagName==="A"&&(e=t.target.parentNode),e!=null&&(O(e),window.location.href=e.href)}function L(){let t=S.filter(function(o){return!d.includes(o)}),e=t.map(o=>o.dataset.clickable);return e=Array.from(new Set(e)),[t,e]}function _(){let t,e;[t,e]=L(),e.length!=0&&(fetch("/api/analytics/clicks/impressions",{method:"POST",body:JSON.stringify({clickables:e}),headers:{"Content-Type":"application/json","X-CSRF-TOKEN":p}}),d.push(...t))}async function O(t){let e,o;[e,o]=L(),fetch("/api/analytics/clicks",{method:"POST",body:JSON.stringify({clickables:o,clicked_on:t.dataset.clickable}),headers:{"Content-Type":"application/json","X-CSRF-TOKEN":p}}),d.push(...e)}setInterval(_,y.polling_delay_in_ms);function C(){var t=Array.from(document.querySelectorAll("[data-clickable]")),e=t.filter(function(o){return!b.includes(o)});E(e)}document.addEventListener("livewire:init",()=>{Livewire.on("component-load-more-clicked",t=>{setTimeout(C,2e3)})});
